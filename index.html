<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noah’s Games Hub</title>

<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#050608">

<style>
:root{
  --bg:#050608;
  --panel:#0b1116;
  --neon:#00ff95;
  --neon-soft:rgba(0,255,150,0.25);
  --text:#d7fff0;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:radial-gradient(circle at top, #0d151b, #050608 70%);
  font-family:system-ui, Arial, sans-serif;
  color:var(--text);
  overflow:hidden;
}

/* ===== TOP BAR ===== */
#topbar{
  display:flex;
  align-items:center;
  gap:16px;
  padding:18px 24px;
  border-bottom:1px solid var(--neon-soft);
  background:rgba(5,6,8,0.85);
}

#logo{
  width:40px;height:40px;border-radius:10px;
  background:linear-gradient(135deg,#00ff95,#00c27a);
  display:grid;place-items:center;
  font-weight:900;color:#02150c;
}

#title{font-size:22px;font-weight:600;color:var(--neon)}

#topbar-right{
  margin-left:auto;
  display:flex;
  gap:12px;
}

input{
  background:#0b141a;
  border:1px solid var(--neon-soft);
  color:var(--text);
  padding:10px 14px;
  border-radius:20px;
}

/* ===== CONTENT ===== */
#content{
  height:calc(100vh - 78px);
  overflow-y:auto;
}

section{padding:24px}
h2{color:var(--neon);margin-bottom:16px}

/* ===== ROW ===== */
.row{
  display:flex;
  gap:20px;
  overflow-x:auto;
}

/* ===== CARD ===== */
.card{
  min-width:260px;
  background:linear-gradient(180deg,#0d1b16,#070c0f);
  border-radius:18px;
  padding:14px;
  border:1px solid var(--neon-soft);
  box-shadow:0 0 40px rgba(0,255,150,0.06);
  display:flex;
  flex-direction:column;
  gap:12px;
  transition:.2s;
}

.card.focus{
  outline:2px solid var(--neon);
  transform:scale(1.05);
}

.thumb{
  height:140px;
  border-radius:12px;
  background:
    repeating-linear-gradient(
      90deg,
      rgba(0,255,150,0.15),
      rgba(0,255,150,0.15) 2px,
      transparent 2px,
      transparent 6px
    );
}

.card h3{margin:0;color:var(--neon)}
.tag{font-size:13px;opacity:.8}

.card-footer{
  display:flex;
  align-items:center;
  margin-top:auto;
}

.play{
  margin-left:auto;
  padding:6px 16px;
  border-radius:14px;
  border:1px solid var(--neon-soft);
  background:#0b141a;
  color:var(--text);
  cursor:pointer;
}

/* ===== GAME OVERLAY ===== */
#gameOverlay{
  position:fixed;
  inset:0;
  background:#050608;
  display:none;
  z-index:999;
}

canvas{display:block}

/* ===== SCROLL ===== */
::-webkit-scrollbar{height:8px;width:8px}
::-webkit-scrollbar-thumb{background:var(--neon-soft);border-radius:10px}
</style>
</head>
<body>

<!-- TOP BAR -->
<div id="topbar">
  <div id="logo">N</div>
  <div id="title">Noah’s Games Hub</div>
  <div id="topbar-right">
    <input placeholder="Search games">
  </div>
</div>

<div id="content">

<!-- CONTINUE -->
<section>
  <h2>Continue Playing</h2>
  <div class="row" id="recentRow"></div>
</section>

<!-- ALL GAMES -->
<section>
  <h2>All Games</h2>
  <div class="row" id="allGames"></div>
</section>

</div>

<!-- GAME OVERLAY -->
<div id="gameOverlay">
  <canvas id="game"></canvas>
</div>

<script>
/* ================= DATA ================= */
const games=[
  {id:"tetris",name:"Tetris",tag:"Arcade"},
  {id:"stack",name:"Stack",tag:"Arcade"},
  {id:"clicker",name:"Clicker",tag:"Arcade"},
  {id:"miner",name:"Miner",tag:"Sandbox"},
  {id:"builder",name:"Builder",tag:"Sandbox"},
];

/* ================= UI BUILD ================= */
const allGames=document.getElementById("allGames");
const recentRow=document.getElementById("recentRow");

function createCard(game){
  const c=document.createElement("div");
  c.className="card";
  c.tabIndex=0;
  c.innerHTML=`
    <div class="thumb"></div>
    <h3>${game.name}</h3>
    <div class="tag">${game.tag}</div>
    <div class="card-footer">
      ★
      <button class="play">Play</button>
    </div>
  `;
  c.querySelector(".play").onclick=()=>launchGame(game);
  c.onclick=()=>focusCard(c);
  return c;
}

games.forEach(g=>allGames.appendChild(createCard(g)));

/* ================= RECENT ================= */
function updateRecent(game){
  let recent=JSON.parse(localStorage.getItem("recent")||"[]");
  recent=recent.filter(id=>id!==game.id);
  recent.unshift(game.id);
  recent=recent.slice(0,5);
  localStorage.setItem("recent",JSON.stringify(recent));
  renderRecent();
}

function renderRecent(){
  recentRow.innerHTML="";
  const recent=JSON.parse(localStorage.getItem("recent")||"[]");
  recent.forEach(id=>{
    const g=games.find(x=>x.id===id);
    if(g) recentRow.appendChild(createCard(g));
  });
}
renderRecent();

/* ================= GAME ENGINE (DEMO) ================= */
const overlay=document.getElementById("gameOverlay");
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
window.addEventListener("resize",resize);

let running=false,x=0;

function launchGame(game){
  updateRecent(game);
  overlay.style.display="block";
  resize();
  running=true;
  x=0;
  loop();
}

function exitGame(){
  running=false;
  overlay.style.display="none";
}

function loop(){
  if(!running) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#00ff95";
  ctx.fillRect(x,canvas.height/2,60,60);
  x+=4;
  if(x>canvas.width) x=-60;
  requestAnimationFrame(loop);
}

/* ================= INPUT ================= */
window.addEventListener("keydown",e=>{
  if(e.key==="Escape" && running) exitGame();
});

/* ================= KEYBOARD NAV ================= */
let focused=null;
function focusCard(c){
  if(focused) focused.classList.remove("focus");
  focused=c;
  c.classList.add("focus");
}
</script>

<script>
if("serviceWorker"in navigator){
  navigator.serviceWorker.register("/service-worker.js");
}
</script>

</body>
</html>
